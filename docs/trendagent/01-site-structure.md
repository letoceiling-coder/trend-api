## Карта страниц TrendAgent

Этот документ фиксирует фактическую структуру страниц интерфейса TrendAgent (SPB), как она была исследована через браузер и Network‑логи. Считаем его источником правды для воспроизведения фронтенда.

### Типы страниц

- **List**: страницы со списком карточек (комплексы, посёлки, участки, проекты домов и т.п.).
- **Table**: страницы с табличным представлением единиц (квартиры, машиноместа, помещения, дома).
- **Plans**: страницы с плиточной сеткой планировок (квартир, домов, коммерции) с мини‑планами.
- **Map**: страницы с картой (Яндекс) и сайдбаром / тулбаром, показывающие объекты на карте.
- **Checkerboard**: этажные шахматки по корпусу, сетка «этаж × секция» с квартирами.
- **Detail**: детальные карточки сущностей (ЖК, квартира, машиноместо, участок, помещение и т.д.).

---

## Таблица страниц

| URL | Тип страницы | Главная сущность | Связанные сущности | Комментарий |
|-----|--------------|------------------|--------------------|-------------|
| `/objects/list` | list | Block (ЖК/корпус) | Apartment, UnitMeasurements, Prelaunch, Exclusive | Список комплексов с карточками, фильтрам и переключением видов. |
| `/objects/table` | table | Apartment | Block | Таблица квартир с сортировкой и фильтрами. |
| `/objects/plans` | plans | Apartment (через Block) | Block, Media(Plans) | Сетка планировок квартир. |
| `/objects/map` | map | Block (с координатами) | Apartment, GeoBuildings | Карта ЖК с пинами и сайдбаром. |
| `/object/{slug}` | detail | Block (ЖК) | Apartments, Parkings, CommercePremises, Rewards, Media, Files, Contacts, Mortgage, 3D‑Tour | Карточка объекта с вкладками и картой. |
| `/object/{slug}/checkerboard` | checkerboard | Apartment (внутри блока) | Block | Шахматка по этажам/секциям ЖК. |
| `/object/{slug}/flat/{id}` | detail | Apartment | Block, Rewards, Discounts, Mortgage, Media | Детальная карточка квартиры. |
| `/object/cds_moskovskiy/#parkings` | detail (tab) | ParkingBlock, ParkingPlace (внутри ЖК) | Block, Parkings | Карточка ЖК, активна вкладка «Парковки». |
| `/object/smart-vosstanovleniya/#commerce` | detail (tab) | CommercePremise (внутри ЖК) | Block, Commerce, Rewards | Карточка ЖК, активна вкладка «Коммерция». |
| `/parkings/list` | list | ParkingBlock | ParkingPlace, Block | Карточки парковок по ЖК. |
| `/parkings/table` | table | ParkingPlace | ParkingBlock, Block | Таблица машиномест. |
| `/parkings/map` | map | ParkingBlock (с geo) | ParkingPlace, Block | Карта парковок. |
| `/parkingplace/{id}` | detail | ParkingPlace | ParkingBlock, Block | Карточка машиноместа. |
| `/houses/list` | list | Block (домовой/загородный) | HouseUnit, Village | Список домовых комплексов. |
| `/houses/table` | table | HouseUnit (дом/коттедж) | Block, Village | Таблица домов/коттеджей. |
| `/houses/plans` | plans | HouseUnit (через Block) | Block, Media(Plans) | Планировки домов. |
| `/houses/map` | map | Block (дом/посёлок) | HouseUnit, Village | Карта домов/посёлков. |
| `/villages/list` | list | Village | Plot, Block | Список посёлков. |
| `/villages/plots` | list | Plot | Village, Block | Список участков. |
| `/villages/map` | map | Village (c geo) | Plot | Карта посёлков/участков. |
| `/village/{slug}` | detail | Village | Plot, Block | Детальная карточка посёлка. |
| `/village/{slug}/plot/{id}` | detail | Plot | Village | Карточка участка в посёлке. |
| `/houseprojects` | list | HouseProject | Block (опционально) | Список проектов домов. |
| `/houseproject/{slug}` | detail | HouseProject | Block, HouseUnit | Детальная карточка проекта дома. |
| `/commerce/list` | list | Block (коммерческий) | CommercePremise | Список коммерческих комплексов. |
| `/commerce/table` | table | CommercePremise | Block | Таблица коммерческих помещений. |
| `/commerce/plan` | plans | CommercePremise | Block, Media(Plans) | Планы коммерческих помещений. |
| `/commerce/map` | map | Block (коммерческий с geo) | CommercePremise | Карта коммерции. |
| `/commerce-premise/{id}` | detail | CommercePremise | Block, Rewards, Mortgage | Карточка коммерческого помещения. |

---

## Различия между типами страниц

### List‑страницы

- Содержат **карточки** (cards) однотипных сущностей (ЖК, посёлки, участки, проекты домов, парковочные блоки, коммерческие комплексы).
- Всегда имеют **фильтровый блок** сверху (поиск + чипы/кнопки фильтров).
- Могут иметь переключатели представлений (list/table/plans/map), но главный контент — список карточек.

### Table‑страницы

- Основной контент — **таблица** с единицами (квартиры, машиноместа, дома, коммерческие помещения).
- Имеют sticky‑хедер таблицы, сортировку по колонкам, пагинацию.
- Фильтры накладываются на **строки таблицы** и влияют на query‑параметры `search`‑эндпоинтов.

### Plans‑страницы

- Представление в виде **плиточной сетки планировок**.
- Каждая плитка — план (изображение или схема) и короткая карточка (тип, площадь, цена, комплекс).
- Используется для: квартир, домов, коммерческих помещений.

### Map‑страницы

- Разделены на верхний фильтровый блок и нижний блок с **Яндекс‑картой + сайдбаром**.
- Включают тулбар карты (панорамы, линейка, маршруты, парковки) и пины с ценовыми/текстовыми лейблами.
- Используют geo‑эндпоинты и/или `search` с `show_type=map`.

### Checkerboard‑страницы

- Специализированная сетка «этаж × секция» с квартирами в виде ячеек.
- Показывает статусы (своб./бронь/продано), цены (или «Под запрос»), площади и типы квартир.
- Содержит дополнительные чекбоксы: скрыть не попавшие в фильтр, скрыть проданные, скрыть забронированные.

### Detail‑страницы

- Имеют **шапку** (название, основные параметры, CTA: отправить клиенту, в презентацию, сравнение и т.п.).
- Основная часть строится в 2‑колоночном layout’e:
  - слева: галерея/план/карта;
  - справа: детальная таблица атрибутов и блок «Цена/вознаграждение/условия».
- Часто содержат **табы** (для объектов/ЖК) или под‑секции (ипотека, рассрочка, отделка, вознаграждение).

